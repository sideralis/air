<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title></title>
    <style>
		.loader {
		  border: 16px solid #f3f3f3;
		  border-radius: 50%;
		  border-top: 16px solid #3498db;
		  width: 120px;
		  height: 120px;
		  -webkit-animation: spin 2s linear infinite; /* Safari */
		  animation: spin 2s linear infinite;
		}
		
		/* Safari */
		@-webkit-keyframes spin {
		  0% { -webkit-transform: rotate(0deg); }
		  100% { -webkit-transform: rotate(360deg); }
		}
		
		@keyframes spin {
		  0% { transform: rotate(0deg); }
		  100% { transform: rotate(360deg); }
		}
	</style>    
  </head>
  <body onload=waitForDisconnect()>
    <h3>Please wait while we are trying to connect your device to internet</h3> 
	<div class="loader"></div>
  </body>
  <script>
  	var timeout;
	function waitForDisconnect() {
		// Wait 3 seconds before testing internet (air network should have disappeared by then)
		timeout = 10;
		myVar = setTimeout(checkInternet, 3000);
	}
	function checkInternet() {
		var isOnLine = navigator.onLine;
		if (isOnLine) {
			myVar = setTimeout(internetIsUp, 3000);
		} else {
			timeout = timeout - 1;
			if (timeout) {
				myVar = setTimeout(checkInternet, 1000);
			} else {
				alert("Could not connect to internet!");	
			}
		}
	}
	function internetIsUp() {
		alert("You are now connected to internet!");
	}
  </script>
</html>
